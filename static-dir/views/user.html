<div>
    <p><strong>{{user()}}</strong>,正在查看用户管理页面</p>
</div>
<div class="pull-right">
    <span>共 <strong><i>{{users.length}}</i></strong> 个用户</span>
    <button type="button" class="btn btn-primary" ng-click="newUser()">
        ＋ 创建用户
    </button>
</div>
<div class="monitor_list">
    <table ng-table="tableParams" class="table table-condensed table-bordered table-hover table-striped debugger_table">
        <tr ng-repeat="user in $data">
            <td data-title="'ID'" class="input-medium AutoNewline"><a href="javascript:void(0)">{{user.id}}</a></td>
            <td data-title="'用户名'" filter="{name: 'text'}" class="width180 AutoNewline">{{user.name}}</td>
            <td data-title="'操作'">
                <button class="btn btn-info btn-xs" ng-click="modifyUser(user)">编辑</button>
                <button class="btn btn-danger btn-xs" ng-click="deleteUser(user)">删除</button>
            </td>
        </tr>
    </table>
</div>

<!-- create user -->
<script type="text/ng-template" id="CCreateUser.html">
    <div class="modal-header clearfix">
        <h3 class="modal-title pull-left">新建用户</h3>
        <button type="button" class="close" ng-click="cancel()"><span>&times;</span></button>
    </div>
    <form class="modal-body form-inline">
        <div class="input-group width240">
            <span class="input-group-addon">
                <span>用户名：</span>
            </span>
            <input type="text" class="form-control" ng-model="newUser.name" placeholder="用户名">
        </div>
        <div class="input-group width240">
            <span class="input-group-addon">
                <span>密码：</span>
            </span>
            <input type="password" class="form-control" ng-model="newUser.passwd" placeholder="密码">
        </div>
    </form>
    <div class="modal-footer">
        <button class="btn btn-primary" type="button" ng-click="confirm()" ng-disabled="!valid()">确定</button>
        <button class="btn btn-warning" type="button" ng-click="cancel()">取消</button>
    </div>
</script>

<!-- modify user -->
<script type="text/ng-template" id="CModifyUser.html">
    <div class="modal-header clearfix">
        <h3 class="modal-title pull-left">编辑用户【{{newUser.id}}:{{newUser.name}}】</h3>
        <button type="button" class="close" ng-click="cancel()"><span>&times;</span></button>
    </div>
    <div class="modal-body form-inline">
        <div class="form-group">
            <label>密码：<input type="password" class="form-control" ng-model="newUser.passwd"></label>
        </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" type="button" ng-click="confirm()" ng-disabled="!newUser.passwd">确定</button>
        <button class="btn btn-warning" type="button" ng-click="cancel()">取消</button>
    </div>
</script>

<!-- delete user -->
<script type="text/ng-template" id="CConfirm.html">
    <div class="modal-header clearfix">
        <h3 class="modal-title pull-left">确认提示</h3>
        <button type="button" class="close" ng-click="cancel()"><span>&times;</span></button>
    </div>
    <div class="modal-body">
        <h4 class="text-center">{{context}}</h4>
    </div>
    <div class="modal-footer">
        <button class="btn btn-danger" type="button" ng-click="confirm()">确定</button>
        <button class="btn btn-primary" type="button" ng-click="cancel()">取消</button>
    </div>
</script>